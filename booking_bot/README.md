## Телеграм-бот для записи/бронирования

Функции:
- Запрос контакта пользователя при первом входе (кнопка «Отправить номер»)
- Выбор даты и времени из доступных слотов
- Исключение занятых слотов (невозможно забронировать второй раз)
- Авто-напоминание за 2 часа до записи
- Админ-команды для управления слотами и уведомления администраторов о новых бронях

### Быстрый старт
1. Склонируйте/откройте проект и создайте `.env` из примера:
   ```bash
   cp /workspace/booking_bot/.env.example /workspace/booking_bot/.env
   # отредактируйте токен и ADMIN_IDS (числовые ID Telegram)
   ```
2. Установите зависимости (желательно в venv):
   ```bash
   python -m venv /workspace/booking_bot/.venv
   source /workspace/booking_bot/.venv/bin/activate
   pip install -r /workspace/booking_bot/requirements.txt
   ```
3. Запустите бота:
   ```bash
   python /workspace/booking_bot/main.py
   ```

### Переменные окружения
- `BOT_TOKEN` — токен бота от BotFather
- `ADMIN_IDS` — список ID администраторов через запятую
- `TZ` — таймзона (по умолчанию Europe/Moscow)
- `DATABASE_PATH` — путь к SQLite базе (по умолчанию `/workspace/booking_bot/bot.db`)

### Команды для администратора
- `/addslot YYYY-MM-DD HH:MM [длительность_мин] [примечание]` — добавить один слот
- `/addslots YYYY-MM-DD HH:MM [HH:MM ...] [длительность_мин]` — добавить несколько слотов на дату
- `/listfree [YYYY-MM-DD]` — показать свободные слоты
- `/listbookings [YYYY-MM-DD]` — показать брони
- `/delslot SLOT_ID` — удалить слот

### Примечания
- Время слотов хранится в UTC, но показывается пользователю в выбранной таймзоне.
- Напоминания отправляются раз в минуту: бот ищет брони на момент «сейчас + 2 часа» и отправляет единичное уведомление.
- Если два пользователя пытаются забронировать один слот одновременно, сработает уникальное ограничение и второй увидит предупреждение.